<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模块 | 前端那些事儿</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/logo.png">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/images/icons/apple-icon-152x152.png">
    <meta name="description" content="我命由我不由天，学习吧少年">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/blog/assets/css/0.styles.cdf5c1fc.css" as="style"><link rel="preload" href="/blog/assets/js/app.ef50ba55.js" as="script"><link rel="preload" href="/blog/assets/js/2.8bf77cff.js" as="script"><link rel="preload" href="/blog/assets/js/60.aa7a0fde.js" as="script"><link rel="preload" href="/blog/assets/js/3.6c93b5c9.js" as="script"><link rel="preload" href="/blog/assets/js/4.ff6074e9.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.2e1f1296.js"><link rel="prefetch" href="/blog/assets/js/100.9ce85cf6.js"><link rel="prefetch" href="/blog/assets/js/101.6cfea8f5.js"><link rel="prefetch" href="/blog/assets/js/102.ceee255d.js"><link rel="prefetch" href="/blog/assets/js/103.6f57fb3a.js"><link rel="prefetch" href="/blog/assets/js/104.ef0efc96.js"><link rel="prefetch" href="/blog/assets/js/105.154aa576.js"><link rel="prefetch" href="/blog/assets/js/106.4ac24377.js"><link rel="prefetch" href="/blog/assets/js/107.2aa21228.js"><link rel="prefetch" href="/blog/assets/js/108.724865d7.js"><link rel="prefetch" href="/blog/assets/js/109.e1c6e5f8.js"><link rel="prefetch" href="/blog/assets/js/11.a397ecc9.js"><link rel="prefetch" href="/blog/assets/js/110.96ff96e7.js"><link rel="prefetch" href="/blog/assets/js/111.5686fad2.js"><link rel="prefetch" href="/blog/assets/js/112.003f892a.js"><link rel="prefetch" href="/blog/assets/js/113.db57682a.js"><link rel="prefetch" href="/blog/assets/js/114.4ceb8bcd.js"><link rel="prefetch" href="/blog/assets/js/115.02459f50.js"><link rel="prefetch" href="/blog/assets/js/116.f81d3c31.js"><link rel="prefetch" href="/blog/assets/js/117.916666eb.js"><link rel="prefetch" href="/blog/assets/js/118.1fd77430.js"><link rel="prefetch" href="/blog/assets/js/119.3aaf28f7.js"><link rel="prefetch" href="/blog/assets/js/12.a29783e3.js"><link rel="prefetch" href="/blog/assets/js/120.30d2f939.js"><link rel="prefetch" href="/blog/assets/js/121.abb7ec52.js"><link rel="prefetch" href="/blog/assets/js/122.a469706f.js"><link rel="prefetch" href="/blog/assets/js/123.995a2136.js"><link rel="prefetch" href="/blog/assets/js/124.2feac72e.js"><link rel="prefetch" href="/blog/assets/js/125.fa7948f2.js"><link rel="prefetch" href="/blog/assets/js/126.427bcdf8.js"><link rel="prefetch" href="/blog/assets/js/127.07396b41.js"><link rel="prefetch" href="/blog/assets/js/128.1722e566.js"><link rel="prefetch" href="/blog/assets/js/129.f8d87556.js"><link rel="prefetch" href="/blog/assets/js/13.102809a8.js"><link rel="prefetch" href="/blog/assets/js/130.5d68701e.js"><link rel="prefetch" href="/blog/assets/js/131.2ab1a91b.js"><link rel="prefetch" href="/blog/assets/js/132.a07d064c.js"><link rel="prefetch" href="/blog/assets/js/133.b049935c.js"><link rel="prefetch" href="/blog/assets/js/134.51c64127.js"><link rel="prefetch" href="/blog/assets/js/135.bde9500e.js"><link rel="prefetch" href="/blog/assets/js/136.77d9fc24.js"><link rel="prefetch" href="/blog/assets/js/137.3ca3a465.js"><link rel="prefetch" href="/blog/assets/js/138.130697ca.js"><link rel="prefetch" href="/blog/assets/js/139.ee16e62e.js"><link rel="prefetch" href="/blog/assets/js/14.ae35c0e2.js"><link rel="prefetch" href="/blog/assets/js/140.6bb0993e.js"><link rel="prefetch" href="/blog/assets/js/141.f656e69f.js"><link rel="prefetch" href="/blog/assets/js/142.749a02ca.js"><link rel="prefetch" href="/blog/assets/js/143.42580b79.js"><link rel="prefetch" href="/blog/assets/js/144.08086f0b.js"><link rel="prefetch" href="/blog/assets/js/145.966233ad.js"><link rel="prefetch" href="/blog/assets/js/146.9708de2d.js"><link rel="prefetch" href="/blog/assets/js/147.23e4856b.js"><link rel="prefetch" href="/blog/assets/js/148.dd5e7c18.js"><link rel="prefetch" href="/blog/assets/js/149.2656f9e9.js"><link rel="prefetch" href="/blog/assets/js/15.1969fa89.js"><link rel="prefetch" href="/blog/assets/js/150.ae0a7327.js"><link rel="prefetch" href="/blog/assets/js/151.eca0b8b7.js"><link rel="prefetch" href="/blog/assets/js/152.864b0cc7.js"><link rel="prefetch" href="/blog/assets/js/153.b8cc254e.js"><link rel="prefetch" href="/blog/assets/js/154.24b843b3.js"><link rel="prefetch" href="/blog/assets/js/155.2a2cc386.js"><link rel="prefetch" href="/blog/assets/js/156.765d53f4.js"><link rel="prefetch" href="/blog/assets/js/157.08b61c0e.js"><link rel="prefetch" href="/blog/assets/js/158.08c4e12b.js"><link rel="prefetch" href="/blog/assets/js/159.2de7d6a5.js"><link rel="prefetch" href="/blog/assets/js/16.3db06b2a.js"><link rel="prefetch" href="/blog/assets/js/160.343b9d29.js"><link rel="prefetch" href="/blog/assets/js/161.f4a99385.js"><link rel="prefetch" href="/blog/assets/js/162.3e1b4bac.js"><link rel="prefetch" href="/blog/assets/js/163.b0899769.js"><link rel="prefetch" href="/blog/assets/js/164.8f12f210.js"><link rel="prefetch" href="/blog/assets/js/165.e7b802d2.js"><link rel="prefetch" href="/blog/assets/js/166.5d8ec5a0.js"><link rel="prefetch" href="/blog/assets/js/167.7f9cf7b3.js"><link rel="prefetch" href="/blog/assets/js/168.f7290de7.js"><link rel="prefetch" href="/blog/assets/js/169.c8f2c411.js"><link rel="prefetch" href="/blog/assets/js/17.b2787dff.js"><link rel="prefetch" href="/blog/assets/js/170.fd04f733.js"><link rel="prefetch" href="/blog/assets/js/171.2fff6416.js"><link rel="prefetch" href="/blog/assets/js/172.f89c0cea.js"><link rel="prefetch" href="/blog/assets/js/173.7aa13f19.js"><link rel="prefetch" href="/blog/assets/js/174.f0d96ac6.js"><link rel="prefetch" href="/blog/assets/js/175.eff3398b.js"><link rel="prefetch" href="/blog/assets/js/176.6a29adb8.js"><link rel="prefetch" href="/blog/assets/js/177.4dd45acc.js"><link rel="prefetch" href="/blog/assets/js/178.51484ab5.js"><link rel="prefetch" href="/blog/assets/js/179.6e820263.js"><link rel="prefetch" href="/blog/assets/js/18.8a69904d.js"><link rel="prefetch" href="/blog/assets/js/180.5fb5a7a5.js"><link rel="prefetch" href="/blog/assets/js/181.6020b17a.js"><link rel="prefetch" href="/blog/assets/js/182.7d8b01ed.js"><link rel="prefetch" href="/blog/assets/js/19.cff711ab.js"><link rel="prefetch" href="/blog/assets/js/20.2f87f6d7.js"><link rel="prefetch" href="/blog/assets/js/21.3bdc4721.js"><link rel="prefetch" href="/blog/assets/js/22.ad4292c9.js"><link rel="prefetch" href="/blog/assets/js/23.e70905b6.js"><link rel="prefetch" href="/blog/assets/js/24.f3e50cb8.js"><link rel="prefetch" href="/blog/assets/js/25.9686fd3a.js"><link rel="prefetch" href="/blog/assets/js/26.0e84d04d.js"><link rel="prefetch" href="/blog/assets/js/27.e5c1bb2f.js"><link rel="prefetch" href="/blog/assets/js/28.37c50f0e.js"><link rel="prefetch" href="/blog/assets/js/29.60a99395.js"><link rel="prefetch" href="/blog/assets/js/30.76dc7356.js"><link rel="prefetch" href="/blog/assets/js/31.dbca9627.js"><link rel="prefetch" href="/blog/assets/js/32.918e32d8.js"><link rel="prefetch" href="/blog/assets/js/33.fc346c51.js"><link rel="prefetch" href="/blog/assets/js/34.ad1f747b.js"><link rel="prefetch" href="/blog/assets/js/35.9265e369.js"><link rel="prefetch" href="/blog/assets/js/36.c97ebf18.js"><link rel="prefetch" href="/blog/assets/js/37.a4b2adeb.js"><link rel="prefetch" href="/blog/assets/js/38.f476e40e.js"><link rel="prefetch" href="/blog/assets/js/39.9e0320a7.js"><link rel="prefetch" href="/blog/assets/js/40.8ee65799.js"><link rel="prefetch" href="/blog/assets/js/41.2dc0f3e9.js"><link rel="prefetch" href="/blog/assets/js/42.67df98c9.js"><link rel="prefetch" href="/blog/assets/js/43.9fd9b784.js"><link rel="prefetch" href="/blog/assets/js/44.d6e6e5cd.js"><link rel="prefetch" href="/blog/assets/js/45.ccb33e3c.js"><link rel="prefetch" href="/blog/assets/js/46.04fadba5.js"><link rel="prefetch" href="/blog/assets/js/47.ee717192.js"><link rel="prefetch" href="/blog/assets/js/48.76411694.js"><link rel="prefetch" href="/blog/assets/js/49.ec45e050.js"><link rel="prefetch" href="/blog/assets/js/5.db99d33d.js"><link rel="prefetch" href="/blog/assets/js/50.0e2c7842.js"><link rel="prefetch" href="/blog/assets/js/51.881f84c0.js"><link rel="prefetch" href="/blog/assets/js/52.af122f8c.js"><link rel="prefetch" href="/blog/assets/js/53.d04f16ad.js"><link rel="prefetch" href="/blog/assets/js/54.046439d0.js"><link rel="prefetch" href="/blog/assets/js/55.bfc0353d.js"><link rel="prefetch" href="/blog/assets/js/56.5446933e.js"><link rel="prefetch" href="/blog/assets/js/57.107ca538.js"><link rel="prefetch" href="/blog/assets/js/58.ac3ba90c.js"><link rel="prefetch" href="/blog/assets/js/59.9d0f7543.js"><link rel="prefetch" href="/blog/assets/js/6.e80c5c8e.js"><link rel="prefetch" href="/blog/assets/js/61.164022a4.js"><link rel="prefetch" href="/blog/assets/js/62.3c0d509c.js"><link rel="prefetch" href="/blog/assets/js/63.86e100fa.js"><link rel="prefetch" href="/blog/assets/js/64.01e68aa7.js"><link rel="prefetch" href="/blog/assets/js/65.6df58ca6.js"><link rel="prefetch" href="/blog/assets/js/66.d5ec6b7e.js"><link rel="prefetch" href="/blog/assets/js/67.88232d74.js"><link rel="prefetch" href="/blog/assets/js/68.f43aa28d.js"><link rel="prefetch" href="/blog/assets/js/69.d59a7017.js"><link rel="prefetch" href="/blog/assets/js/7.fd1464a3.js"><link rel="prefetch" href="/blog/assets/js/70.49368940.js"><link rel="prefetch" href="/blog/assets/js/71.85591e13.js"><link rel="prefetch" href="/blog/assets/js/72.1b1d0600.js"><link rel="prefetch" href="/blog/assets/js/73.cdb13f02.js"><link rel="prefetch" href="/blog/assets/js/74.711c5877.js"><link rel="prefetch" href="/blog/assets/js/75.03d93327.js"><link rel="prefetch" href="/blog/assets/js/76.8d4bc659.js"><link rel="prefetch" href="/blog/assets/js/77.b3edc4e1.js"><link rel="prefetch" href="/blog/assets/js/78.0732212a.js"><link rel="prefetch" href="/blog/assets/js/79.1424f09d.js"><link rel="prefetch" href="/blog/assets/js/8.60aa9c8a.js"><link rel="prefetch" href="/blog/assets/js/80.df6247d5.js"><link rel="prefetch" href="/blog/assets/js/81.32b21174.js"><link rel="prefetch" href="/blog/assets/js/82.a32337a1.js"><link rel="prefetch" href="/blog/assets/js/83.4ef24e59.js"><link rel="prefetch" href="/blog/assets/js/84.3c2294e0.js"><link rel="prefetch" href="/blog/assets/js/85.1ce9f5ce.js"><link rel="prefetch" href="/blog/assets/js/86.71fc4d87.js"><link rel="prefetch" href="/blog/assets/js/87.12c233e9.js"><link rel="prefetch" href="/blog/assets/js/88.5739cded.js"><link rel="prefetch" href="/blog/assets/js/89.587cb3f8.js"><link rel="prefetch" href="/blog/assets/js/9.46c022d3.js"><link rel="prefetch" href="/blog/assets/js/90.3c1a195a.js"><link rel="prefetch" href="/blog/assets/js/91.e0cbae1e.js"><link rel="prefetch" href="/blog/assets/js/92.b1a2eb38.js"><link rel="prefetch" href="/blog/assets/js/93.b9b93699.js"><link rel="prefetch" href="/blog/assets/js/94.6e6f65d7.js"><link rel="prefetch" href="/blog/assets/js/95.09c103f6.js"><link rel="prefetch" href="/blog/assets/js/96.c984fa53.js"><link rel="prefetch" href="/blog/assets/js/97.57957eb3.js"><link rel="prefetch" href="/blog/assets/js/98.2f830003.js"><link rel="prefetch" href="/blog/assets/js/99.9954f704.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.cdf5c1fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="前端那些事儿" class="logo"> <span class="site-name can-hide">前端那些事儿</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/base/" class="nav-link router-link-active">
  前端基础
</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/blog/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/blog/devops/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/blog/mobile/" class="nav-link">
  泛客户端
</a></div><div class="nav-item"><a href="/blog/architecture/" class="nav-link">
  架构&amp;方案
</a></div><div class="nav-item"><a href="/blog/code/" class="nav-link">
  算法&amp;编程
</a></div><div class="nav-item"><a href="/blog/weekly/" class="nav-link">
  前端周刊
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jonny-wei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/base/" class="nav-link router-link-active">
  前端基础
</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/blog/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/blog/devops/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/blog/mobile/" class="nav-link">
  泛客户端
</a></div><div class="nav-item"><a href="/blog/architecture/" class="nav-link">
  架构&amp;方案
</a></div><div class="nav-item"><a href="/blog/code/" class="nav-link">
  算法&amp;编程
</a></div><div class="nav-item"><a href="/blog/weekly/" class="nav-link">
  前端周刊
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jonny-wei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript高级</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/base/" aria-current="page" class="sidebar-link">寿司 JavaScript 🍣</a></li><li><a href="/blog/base/javascript/prototype.html" class="sidebar-link">原型与原型链</a></li><li><a href="/blog/base/javascript/scope.html" class="sidebar-link">词法作用域和动态作用域</a></li><li><a href="/blog/base/javascript/ECS.html" class="sidebar-link">执行上下文栈</a></li><li><a href="/blog/base/javascript/VO.html" class="sidebar-link">变量对象</a></li><li><a href="/blog/base/javascript/scope-chain.html" class="sidebar-link">作用域链</a></li><li><a href="/blog/base/javascript/this.html" class="sidebar-link">This</a></li><li><a href="/blog/base/javascript/closure.html" class="sidebar-link">闭包</a></li><li><a href="/blog/base/javascript/arguments.html" class="sidebar-link">参数传递与 Arguments</a></li><li><a href="/blog/base/javascript/var.html" class="sidebar-link">var let const</a></li><li><a href="/blog/base/javascript/arrow-function.html" class="sidebar-link">箭头函数</a></li><li><a href="/blog/base/javascript/async-plan.html" class="sidebar-link">异步方案</a></li><li><a href="/blog/base/javascript/async-achieve.html" class="sidebar-link">异步实现</a></li><li><a href="/blog/base/javascript/event-loop.html" class="sidebar-link">事件循环</a></li><li><a href="/blog/base/javascript/set-map.html" class="sidebar-link">Set 和 Map</a></li><li><a href="/blog/base/javascript/proxy-reflect.html" class="sidebar-link">Proxy 和 Reflect</a></li><li><a href="/blog/base/javascript/module.html" aria-current="page" class="active sidebar-link">模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/base/javascript/module.html#模块风格" class="sidebar-link">模块风格</a></li></ul></li><li><a href="/blog/base/javascript/decorator.html" class="sidebar-link">装饰器</a></li><li><a href="/blog/base/javascript/strict-mode.html" class="sidebar-link">严格模式</a></li><li><a href="/blog/base/javascript/reference.html" class="sidebar-link">参考文献</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器与网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/base/browser/browser-start.html" class="sidebar-link">发生了什么</a></li><li><a href="/blog/base/browser/http-history.html" class="sidebar-link">HTTP 前世今生</a></li><li><a href="/blog/base/browser/network-OSI.html" class="sidebar-link">网络通信模型</a></li><li><a href="/blog/base/browser/network-tcp.html" class="sidebar-link">传输层 TCP 协议</a></li><li><a href="/blog/base/browser/network-websocket.html" class="sidebar-link">WebSocket 协议</a></li><li><a href="/blog/base/browser/http-message.html" class="sidebar-link">HTTP 报文</a></li><li><a href="/blog/base/browser/http-status.html" class="sidebar-link">HTTP 状态码</a></li><li><a href="/blog/base/browser/http-methods.html" class="sidebar-link">HTTP 请求</a></li><li><a href="/blog/base/browser/web-storage.html" class="sidebar-link">浏览器存储</a></li><li><a href="/blog/base/browser/DNS.html" class="sidebar-link">DNS 域名系统</a></li><li><a href="/blog/base/browser/browser-cache.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/blog/base/browser/browser-render.html" class="sidebar-link">浏览器渲染</a></li><li><a href="/blog/base/browser/cross-domain.html" class="sidebar-link">跨域</a></li><li><a href="/blog/base/browser/web-security.html" class="sidebar-link">浏览器安全机制</a></li><li><a href="/blog/base/browser/web-attack.html" class="sidebar-link">浏览器攻击</a></li><li><a href="/blog/base/browser/js-gc.html" class="sidebar-link">垃圾回收机制</a></li><li><a href="/blog/base/browser/reference.html" class="sidebar-link">参考文献</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>DOM</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/base/dom/dom-event.html" class="sidebar-link">DOM 事件模型(事件流)</a></li><li><a href="/blog/base/dom/virtual-list.html" class="sidebar-link">前端虚拟列表的实现原理</a></li><li><a href="/blog/base/dom/drag.html" class="sidebar-link">Drag 组件的设计与实现</a></li><li><a href="/blog/base/dom/edit.html" class="sidebar-link">协同编辑冲突处理算法综述</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/base/css-basis/css-rule.html" class="sidebar-link">规则与继承性</a></li><li><a href="/blog/base/css-basis/css-box.html" class="sidebar-link">CSS 盒模型</a></li><li><a href="/blog/base/css-basis/css-bfc.html" class="sidebar-link">BFC</a></li><li><a href="/blog/base/css-basis/css-ifc.html" class="sidebar-link">IFC</a></li><li><a href="/blog/base/css-basis/css-cc.html" class="sidebar-link">层叠上下文</a></li><li><a href="/blog/base/css-basis/css-layout.html" class="sidebar-link">CSS布局与定位</a></li><li><a href="/blog/base/css-basis/css-knowledge.html" class="sidebar-link">CSS 知识清单</a></li><li><a href="/blog/base/css-basis/css-isuess.html" class="sidebar-link">CSS 常见问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/base/css-advanced/animation.html" class="sidebar-link">动画</a></li><li><a href="/blog/base/css-advanced/canvas.html" class="sidebar-link">canvas</a></li><li><a href="/blog/base/css-advanced/css-text.html" class="sidebar-link">文本溢出</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="模块"><a href="#模块" class="header-anchor">#</a> 模块</h1> <h2 id="模块风格"><a href="#模块风格" class="header-anchor">#</a> 模块风格</h2> <p>一些广为使用的模块格式有：</p> <ul><li>CommonJS</li> <li>Asynchronous Module Definition（AMD）- RequireJS</li> <li>Common Module Definition（CMD）- SeaJS</li> <li>Universal Module Definition（UMD）</li> <li>ES6 Module</li></ul> <h3 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> CommonJS</h3> <p>2009 年 Nodejs 发布，其中 Commonjs 是作为 Node 中模块化规范以及原生模块面世的。基本上 Commonjs 发布之后，就成了 Node 里面标准的模块化管理工具。同时 Node 还推出了 npm 包管理工具，npm 平台上的包均满足 Commonjs 规范。</p> <h4 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h4> <ul><li>module.exports</li> <li>require</li></ul> <p>CommonJS 还可以细分为 CommonJSl 和 CommonJS2，区别在于 CommonJSl 只能通过 <code>exports.XX = XX</code> 的方式导出，而 CommonJS2 在 CommonJSl 的基础上加入了 <code>module.exports = XX</code> 的导出方式。 CommonJS 通常指 CommonJS2。</p> <p>module.exports 属性表示当前模块对外输出的接口，其他文件加载该模块，实际上就是读取 module.exports 变量。node 为每一个模块提供了一个 exports 变量(可以说是一个对象)，指向 module.exports。这相当于每个模块中都有一句这样的命令 <code>var exports = module.exports</code>。既然两个不好区分，那就放弃 exports, 只用 module.exports 就好。</p> <div class="custom-block tip"><p class="custom-block-title">Module 对象</p> <ul><li>module.id 模块的识别符，通常是带有绝对路径的模块文件名。</li> <li>module.filename 模块的文件名，带有绝对路径。</li> <li>module.loaded 返回一个布尔值，表示模块是否已经完成加载。</li> <li>module.parent 返回一个对象，表示调用该模块的模块。</li> <li>module.children 返回一个数组，表示该模块要用到的其他模块。</li> <li>module.exports 表示模块对外输出的值。</li></ul></div> <h4 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h4> <ul><li>原生 Module 对象，每个文件都是一个 Module 实例</li> <li>文件内通过 require 对象引入指定模块</li> <li>所有文件加载均是同步完成</li> <li>通过 module 关键字暴露内容</li> <li>每个模块加载一次之后就会被缓存</li> <li>模块编译本质上是沙箱编译</li> <li>由于使用了 Node 的 api，只能在服务端环境上运行</li> <li>所有代码都运行带模块作用域、不会污染全局作用域</li> <li>模块加载的顺序是按照其在代码中出现的顺序</li></ul> <h4 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h4> <ul><li>强大的查找模块功能，开发十分方便</li> <li>标准化的输入输出，非常统一</li> <li>每个文件引入自己的依赖，最终形成文件依赖树</li> <li>模块缓存机制，提高编译效率</li> <li>利用 node 实现文件同步读取</li> <li>依靠注入变量的沙箱编译实现模块化</li></ul> <div class="custom-block tip"><p class="custom-block-title">沙箱编译</p> <p>require 进来的 js 模块会被 Module 模块注入一些变量，使用立即执行函数编译，看起来就好像：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">exports<span class="token punctuation">,</span> require<span class="token punctuation">,</span> module<span class="token punctuation">,</span> __filename<span class="token punctuation">,</span> __dirname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//原始文件内容</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Node 内部提供一个 Module 构建函数。所有模块都是 Module 的实例。</p></div> <p>CommonJS 的缺点在于: 这样的代码无法直接运行在浏览器环境下，必须通过工具转换 成标准的 ES5。</p> <h3 id="amd"><a href="#amd" class="header-anchor">#</a> AMD</h3> <p>Commonjs 的诞生给 js 模块化发展有了重要的启发，Commonjs 非常受欢迎，但是局限性很明显：</p> <p>Commonjs 基于 Node 原生 api 在服务端可以实现模块同步加载，但是仅仅局限于服务端，客户端如果同步加载依赖的话时间消耗非常大，所以需要一个在客户端上基于 Commonjs但 是对于加载模块做改进的方案，于是 AMD 规范诞生了。</p> <p>AMD(Asynchronous Module Definition) 异步模块定义。它采用异步方式加载模块，模块的加载不影响它后面语句的运行。所有依赖这个模块的语句，都定义在一个回调函数中，等到所有依赖加载完成之后（前置依赖），这个回调函数才会运行。它大大的利用了浏览器的并发请求能力，让模块的依赖过程的阻塞变得更少了。requireJs 就是 AMD 模块化规范的实现。</p> <p>CommonJS 规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。AMD 规范则是非同步加载模块，允许指定回调函数。由于 Node.js 主要用于服务器编程，模块文件一般都已经存在于本地硬盘，所以加载起来比较快，不用考虑非同步加载的方式，所以 CommonJS 规范比较适用。但是，如果是浏览器环境，要从服务器端加载模块，这时就必须采用非同步模式，因此浏览器端一般采用 AMD 规范。</p> <h4 id="使用-2"><a href="#使用-2" class="header-anchor">#</a> 使用</h4> <p>模块功能主要的几个命令：define、require、return 和 define.amd。</p> <p>使用 define 来定义模块，return 来输出接口， require 来加载模块，这是 AMD 官方推荐用法。</p> <ul><li><code>define(id?, dependencies?, factory);</code></li> <li><code>require([module], callback);</code></li></ul> <p>AMD 模块运行在浏览器环境下，它使用 define 函数来定义模块。不同于CommonJS，它要求两个参数：</p> <p><code>require([module], callback);</code></p> <p>第一个参数[module]，是一个数组，里面的成员就是要加载的模块；第二个参数callback，则是加载成功之后的回调函数。如果将前面的代码改写成AMD形式，就是下面这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dep1'</span><span class="token punctuation">,</span> <span class="token string">'dep2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">dep1<span class="token punctuation">,</span> dep2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>不同于 Commonjs，在定义模块的时候需要使用 define 函数定义：</p> <p><code>define(id?, dependencies?, factory);</code></p> <p>define方法与require类似，id是定义模块的名字，仍然会在所有依赖加载完毕之后执行factory。</p> <h4 id="requirejs"><a href="#requirejs" class="header-anchor">#</a> RequireJs</h4> <p>RequireJs 是 js 模块化的工具框架，是 AMD 规范的具体实现。RequireJs 有两个最鲜明的特点：</p> <ul><li>依赖前置：动态创建 <code>&lt;script&gt;</code> 引入依赖，在 <code>&lt;script&gt;</code> 标签的 onload 事件监听文件加载完毕；一个模块的回调函数必须得等到所有依赖都加载完毕之后，才可执行，类似 <code>Promise.all</code>。</li> <li>配置文件：有一个 main 文件，配置不同模块的路径，以及 shim 不满足 AMD 规范的 js 文件。</li></ul> <h4 id="优点-2"><a href="#优点-2" class="header-anchor">#</a> 优点</h4> <ul><li>动态并行加载 js，依赖前置，无需再考虑 js 加载顺序问题。</li> <li>核心还是注入变量的沙箱编译，解决模块化问题。</li> <li>规范化输入输出，使用起来方便。</li> <li>对于不满足 AMD 规范的文件可以很好地兼容。</li></ul> <h3 id="cmd"><a href="#cmd" class="header-anchor">#</a> CMD</h3> <p>同样是受到 Commonjs 的启发，国内（阿里）诞生了一个 CMD（Common Module Definition）规范。该规范借鉴了 Commonjs 的规范与 AMD 规范，在两者基础上做了改进。一个文件就是一个模块，可以像 Node.js 一般书写模块代码。主要在浏览器中运行，当然也可以在 Node.js 中运行。现在 CMD 已经凉了。</p> <h4 id="特点-2"><a href="#特点-2" class="header-anchor">#</a> 特点</h4> <p>与 AMD 相比非常类似，CMD 规范（2011）具有以下特点：</p> <ul><li>define 定义模块，require 加载模块，exports 暴露变量。</li> <li>不同于 AMD 的依赖前置，CMD 推崇依赖就近（需要的时候再加载）</li> <li>推崇 api 功能单一，一个模块干一件事。</li></ul> <h4 id="seajs"><a href="#seajs" class="header-anchor">#</a> SeaJS</h4> <p>SeaJs 是 CMD 规范的实现，跟 RequireJs 类似，CMD 也是 SeaJs 推广过程中诞生的规范。CMD 借鉴了很多 AMD 和 Commonjs 优点，同样 SeaJs 也对 AMD 和 Commonjs
做出了很多兼容。</p> <ul><li>需要配置模块对应的url。</li> <li>入口文件执行之后，根据文件内的依赖关系整理出依赖树，然后通过插入 <code>&lt;script&gt;</code> 标签加载依赖。</li> <li>依赖加载完毕之后，执行根factory。</li> <li>在 factory 中遇到 require，则去执行对应模块的 factory，实现就近依赖。</li> <li>类似 Commonjs，对所有模块进行缓存（模块的 url 就是 id）。</li> <li>类似 Commonjs，可以使用相对路径加载模块。</li> <li>可以向 RequireJs 一样前置依赖，但是推崇就近依赖。</li> <li>exports 和 return 都可以暴露变量。</li></ul> <div class="custom-block tip"><p class="custom-block-title">AMD vs CMD</p> <ul><li>AMD 是提前执行， CMD 是延迟执行</li> <li>CMD 推崇依赖就近，AMD 推崇依赖前置</li> <li>AMD 的 API 默认是一个当多个用，CMD 的 API 严格区分，推崇职责单一</li></ul></div> <h3 id="umd"><a href="#umd" class="header-anchor">#</a> UMD</h3> <p>UMD(Universal Module Definition)通用模块定义模式，该模式主要用来解决 CommonJS 模式和 AMD 模式代码不能通用的问题，并同时还支持老式的全局变量规范。它可以通过运行时或者编译时让同一个代码模块在使用 CommonJs、CMD 甚至是 AMD 的项目中运行。未来同一个 JavaScript 包运行在浏览器端、服务区端甚至是 APP 端都只需要遵守同一个写法就行了。它没有自己专有的规范，是集结了 CommonJs、CMD、AMD 的规范于一身。它或许不是未来最好的模块化方式，未来在 ES6+、TypeScript、Dart 这些拥有高级语法的语言回代替这些方案。</p> <h3 id="es-modules"><a href="#es-modules" class="header-anchor">#</a> ES Modules</h3> <p>ES modules（ESM）是 JavaScript 官方的标准化模块系统。</p> <ul><li>它因为是标准，所以未来很多浏览器会支持，可以很方便的在浏览器中使用。(浏览器默认加载不能省略.js)</li> <li>它同时兼容在 node 环境下运行。</li> <li>模块的导入导出，通过 import 和 export 来确定。</li> <li>可以和 Commonjs 模块混合使用。</li> <li><span class="highlighter">ES modules 输出的是值的引用，输出接口动态绑定，而 CommonJS 输出的是值的拷贝</span></li> <li><span class="highlighter">ES modules 模块编译时执行，而 CommonJS 模块总是在运行时加载</span></li> <li>无论是 ES6 模块还是 CommonJS 模块，当你重复引入某个相同的模块时，模块只会执行一次。</li> <li>ES modules 静态编译，CommonJS 运行时加载</li> <li>import 命令会被 JavaScript 引擎静态分析，优先于模块内的其他内容执行，即 import 优先执行。</li> <li>export 命令会有变量声明提前的效果，即 export 变量声明提升。</li></ul> <p><strong>require.ensure 的出现是 webpack 的产物</strong>：</p> <p>它是因为浏览器需要一种异步的机制可以用来异步加载模块，从而减少初始的加载文件的体积，所以如果在服务端的话 <code>require.ensure</code> 就无用武之地了，因为服务端不存在异步加载模块的情况，模块同步进行加载就可以满足使用场景了。 CommonJS 模块可以在运行时确认模块加载。</p> <p><strong>Tree shaking 就是得益 ES modules 的发展的产物</strong>：</p> <p>ES Modules 之所以能 Tree-shaking 主要为以下四个原因（摘自尤雨溪在知乎的回答）:</p> <ul><li>import 只能作为模块顶层的语句出现，不能出现在 function 里面或是 if 里面。</li> <li>import 的模块名只能是字符串常量。</li> <li>不管 import 的语句出现的位置在哪里，在模块初始化的时候所有的 import 都必须已经导入完成。</li> <li>import binding 是 immutable 的，类似 const。比如说你不能 import { a } from ‘./a’ 然后给 a 赋值个其他什么东西。</li></ul> <div class="custom-block warning"><p class="custom-block-title">参考文献</p> <p><a href="https://github.com/xuexueq/blog/issues/3" target="_blank" rel="noopener noreferrer">js模块化编程不完全指北<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844904066233925639#heading-6" target="_blank" rel="noopener noreferrer">彻底理清 AMD,CommonJS,CMD,UMD,ES6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6917810024253227021#heading-0" target="_blank" rel="noopener noreferrer">一文搞懂JS模块、模块格式、模块加载器和模块打包器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6907529287880933384#heading-23" target="_blank" rel="noopener noreferrer">前端模块化发展历史<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903565236895758" target="_blank" rel="noopener noreferrer">深入理解 ES6 模块机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844904053676195847#heading-0" target="_blank" rel="noopener noreferrer">[译]JavaScript 模块打包方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/base/javascript/proxy-reflect.html" class="prev">
        Proxy 和 Reflect
      </a></span> <span class="next"><a href="/blog/base/javascript/decorator.html">
        装饰器
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----><!----></div></div>
    <script src="/blog/assets/js/app.ef50ba55.js" defer></script><script src="/blog/assets/js/2.8bf77cff.js" defer></script><script src="/blog/assets/js/60.aa7a0fde.js" defer></script><script src="/blog/assets/js/3.6c93b5c9.js" defer></script><script src="/blog/assets/js/4.ff6074e9.js" defer></script>
  </body>
</html>
