<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>功能方面 | 前端那些事儿</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/logo.png">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/images/icons/apple-icon-152x152.png">
    <meta name="description" content="我命由我不由天，学习吧少年">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/blog/assets/css/0.styles.67d97e57.css" as="style"><link rel="preload" href="/blog/assets/js/app.3c4ecd7c.js" as="script"><link rel="preload" href="/blog/assets/js/2.8bf77cff.js" as="script"><link rel="preload" href="/blog/assets/js/157.f9a9095c.js" as="script"><link rel="preload" href="/blog/assets/js/4.ff6074e9.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.54dec0d8.js"><link rel="prefetch" href="/blog/assets/js/100.72a6d69d.js"><link rel="prefetch" href="/blog/assets/js/101.224f769c.js"><link rel="prefetch" href="/blog/assets/js/102.4ce4c263.js"><link rel="prefetch" href="/blog/assets/js/103.15a77829.js"><link rel="prefetch" href="/blog/assets/js/104.f1a44fd0.js"><link rel="prefetch" href="/blog/assets/js/105.9afa891a.js"><link rel="prefetch" href="/blog/assets/js/106.927660ac.js"><link rel="prefetch" href="/blog/assets/js/107.a304a8b8.js"><link rel="prefetch" href="/blog/assets/js/108.7176afbc.js"><link rel="prefetch" href="/blog/assets/js/109.57bfc892.js"><link rel="prefetch" href="/blog/assets/js/11.87470e50.js"><link rel="prefetch" href="/blog/assets/js/110.51fe6e9e.js"><link rel="prefetch" href="/blog/assets/js/111.9b27be66.js"><link rel="prefetch" href="/blog/assets/js/112.058f2480.js"><link rel="prefetch" href="/blog/assets/js/113.12fc8d46.js"><link rel="prefetch" href="/blog/assets/js/114.0cf8b86c.js"><link rel="prefetch" href="/blog/assets/js/115.9e4514b0.js"><link rel="prefetch" href="/blog/assets/js/116.5d617678.js"><link rel="prefetch" href="/blog/assets/js/117.9a888ea2.js"><link rel="prefetch" href="/blog/assets/js/118.d72d964b.js"><link rel="prefetch" href="/blog/assets/js/119.ee2bc029.js"><link rel="prefetch" href="/blog/assets/js/12.a51d58a0.js"><link rel="prefetch" href="/blog/assets/js/120.76f769b8.js"><link rel="prefetch" href="/blog/assets/js/121.31305cd7.js"><link rel="prefetch" href="/blog/assets/js/122.6f38440e.js"><link rel="prefetch" href="/blog/assets/js/123.dc33fc77.js"><link rel="prefetch" href="/blog/assets/js/124.6fe8675d.js"><link rel="prefetch" href="/blog/assets/js/125.d9c9bcda.js"><link rel="prefetch" href="/blog/assets/js/126.281a5f23.js"><link rel="prefetch" href="/blog/assets/js/127.e857a7aa.js"><link rel="prefetch" href="/blog/assets/js/128.618b772e.js"><link rel="prefetch" href="/blog/assets/js/129.17b53c98.js"><link rel="prefetch" href="/blog/assets/js/13.efac8ed7.js"><link rel="prefetch" href="/blog/assets/js/130.fbaa95d7.js"><link rel="prefetch" href="/blog/assets/js/131.4d6009ec.js"><link rel="prefetch" href="/blog/assets/js/132.8562e7f4.js"><link rel="prefetch" href="/blog/assets/js/133.c5bc57a1.js"><link rel="prefetch" href="/blog/assets/js/134.ab373cf8.js"><link rel="prefetch" href="/blog/assets/js/135.8dc1dcd5.js"><link rel="prefetch" href="/blog/assets/js/136.c10b6e5e.js"><link rel="prefetch" href="/blog/assets/js/137.b35b2e2a.js"><link rel="prefetch" href="/blog/assets/js/138.614e3398.js"><link rel="prefetch" href="/blog/assets/js/139.1184b6c8.js"><link rel="prefetch" href="/blog/assets/js/14.ab8e55d0.js"><link rel="prefetch" href="/blog/assets/js/140.879477af.js"><link rel="prefetch" href="/blog/assets/js/141.1bb86269.js"><link rel="prefetch" href="/blog/assets/js/142.6b8c58e3.js"><link rel="prefetch" href="/blog/assets/js/143.1ea5e5a5.js"><link rel="prefetch" href="/blog/assets/js/144.e46739b9.js"><link rel="prefetch" href="/blog/assets/js/145.3f0e6810.js"><link rel="prefetch" href="/blog/assets/js/146.c9f5de56.js"><link rel="prefetch" href="/blog/assets/js/147.62383283.js"><link rel="prefetch" href="/blog/assets/js/148.bcb49e08.js"><link rel="prefetch" href="/blog/assets/js/149.75377254.js"><link rel="prefetch" href="/blog/assets/js/15.94ac49ac.js"><link rel="prefetch" href="/blog/assets/js/150.d31631dc.js"><link rel="prefetch" href="/blog/assets/js/151.5f6d1166.js"><link rel="prefetch" href="/blog/assets/js/152.944300ca.js"><link rel="prefetch" href="/blog/assets/js/153.992fd419.js"><link rel="prefetch" href="/blog/assets/js/154.774df487.js"><link rel="prefetch" href="/blog/assets/js/155.bcae2bfd.js"><link rel="prefetch" href="/blog/assets/js/156.b113cd79.js"><link rel="prefetch" href="/blog/assets/js/158.8e1c175e.js"><link rel="prefetch" href="/blog/assets/js/159.15c704d4.js"><link rel="prefetch" href="/blog/assets/js/16.e62357d2.js"><link rel="prefetch" href="/blog/assets/js/160.1d7f42c0.js"><link rel="prefetch" href="/blog/assets/js/161.30dd33e0.js"><link rel="prefetch" href="/blog/assets/js/162.dfe86db4.js"><link rel="prefetch" href="/blog/assets/js/163.b3c5c100.js"><link rel="prefetch" href="/blog/assets/js/164.94eaf747.js"><link rel="prefetch" href="/blog/assets/js/165.fa913e7e.js"><link rel="prefetch" href="/blog/assets/js/166.aee242da.js"><link rel="prefetch" href="/blog/assets/js/167.b2900686.js"><link rel="prefetch" href="/blog/assets/js/168.293f8f16.js"><link rel="prefetch" href="/blog/assets/js/169.98ab3496.js"><link rel="prefetch" href="/blog/assets/js/17.307ac507.js"><link rel="prefetch" href="/blog/assets/js/170.d81fe44f.js"><link rel="prefetch" href="/blog/assets/js/171.38a4acb5.js"><link rel="prefetch" href="/blog/assets/js/172.63cc2f53.js"><link rel="prefetch" href="/blog/assets/js/173.b502e534.js"><link rel="prefetch" href="/blog/assets/js/174.fb61cea4.js"><link rel="prefetch" href="/blog/assets/js/175.a9ccd64d.js"><link rel="prefetch" href="/blog/assets/js/176.c222c235.js"><link rel="prefetch" href="/blog/assets/js/177.13c3548f.js"><link rel="prefetch" href="/blog/assets/js/178.bbdf6bb2.js"><link rel="prefetch" href="/blog/assets/js/179.6bdaa3aa.js"><link rel="prefetch" href="/blog/assets/js/18.aace0131.js"><link rel="prefetch" href="/blog/assets/js/180.8806e1be.js"><link rel="prefetch" href="/blog/assets/js/181.8421babc.js"><link rel="prefetch" href="/blog/assets/js/182.2510621f.js"><link rel="prefetch" href="/blog/assets/js/183.1dc213cb.js"><link rel="prefetch" href="/blog/assets/js/184.d6f8eb08.js"><link rel="prefetch" href="/blog/assets/js/185.49a95e1e.js"><link rel="prefetch" href="/blog/assets/js/186.1c2aa70e.js"><link rel="prefetch" href="/blog/assets/js/187.bf6b5fc1.js"><link rel="prefetch" href="/blog/assets/js/188.472975b1.js"><link rel="prefetch" href="/blog/assets/js/19.0392dcef.js"><link rel="prefetch" href="/blog/assets/js/20.5ae5eb49.js"><link rel="prefetch" href="/blog/assets/js/21.c2593891.js"><link rel="prefetch" href="/blog/assets/js/22.c845781e.js"><link rel="prefetch" href="/blog/assets/js/23.761b67a9.js"><link rel="prefetch" href="/blog/assets/js/24.46f16e6c.js"><link rel="prefetch" href="/blog/assets/js/25.4abd8caa.js"><link rel="prefetch" href="/blog/assets/js/26.49840540.js"><link rel="prefetch" href="/blog/assets/js/27.5fc81b94.js"><link rel="prefetch" href="/blog/assets/js/28.5ff2b83f.js"><link rel="prefetch" href="/blog/assets/js/29.58a08d51.js"><link rel="prefetch" href="/blog/assets/js/3.6c93b5c9.js"><link rel="prefetch" href="/blog/assets/js/30.44c86a11.js"><link rel="prefetch" href="/blog/assets/js/31.4ac53be5.js"><link rel="prefetch" href="/blog/assets/js/32.d8dc939d.js"><link rel="prefetch" href="/blog/assets/js/33.9943edcb.js"><link rel="prefetch" href="/blog/assets/js/34.e1fa429f.js"><link rel="prefetch" href="/blog/assets/js/35.0271bb76.js"><link rel="prefetch" href="/blog/assets/js/36.b70d8874.js"><link rel="prefetch" href="/blog/assets/js/37.e534eeae.js"><link rel="prefetch" href="/blog/assets/js/38.378e2784.js"><link rel="prefetch" href="/blog/assets/js/39.ee37e5e3.js"><link rel="prefetch" href="/blog/assets/js/40.71fe227f.js"><link rel="prefetch" href="/blog/assets/js/41.33f0393b.js"><link rel="prefetch" href="/blog/assets/js/42.e78ac8c5.js"><link rel="prefetch" href="/blog/assets/js/43.80a027c4.js"><link rel="prefetch" href="/blog/assets/js/44.12c04e4c.js"><link rel="prefetch" href="/blog/assets/js/45.063cf741.js"><link rel="prefetch" href="/blog/assets/js/46.0ca05229.js"><link rel="prefetch" href="/blog/assets/js/47.c20b5eb3.js"><link rel="prefetch" href="/blog/assets/js/48.0f69dd98.js"><link rel="prefetch" href="/blog/assets/js/49.948f9408.js"><link rel="prefetch" href="/blog/assets/js/5.acee73fc.js"><link rel="prefetch" href="/blog/assets/js/50.c2ed191b.js"><link rel="prefetch" href="/blog/assets/js/51.bd02108a.js"><link rel="prefetch" href="/blog/assets/js/52.36575149.js"><link rel="prefetch" href="/blog/assets/js/53.060d9343.js"><link rel="prefetch" href="/blog/assets/js/54.3c782890.js"><link rel="prefetch" href="/blog/assets/js/55.6e7c899c.js"><link rel="prefetch" href="/blog/assets/js/56.4de72d8a.js"><link rel="prefetch" href="/blog/assets/js/57.45ee9e1a.js"><link rel="prefetch" href="/blog/assets/js/58.392c354a.js"><link rel="prefetch" href="/blog/assets/js/59.eeecf609.js"><link rel="prefetch" href="/blog/assets/js/6.e80c5c8e.js"><link rel="prefetch" href="/blog/assets/js/60.c50375ab.js"><link rel="prefetch" href="/blog/assets/js/61.c248b162.js"><link rel="prefetch" href="/blog/assets/js/62.f1dc8bad.js"><link rel="prefetch" href="/blog/assets/js/63.b98b3ef6.js"><link rel="prefetch" href="/blog/assets/js/64.3336e4bf.js"><link rel="prefetch" href="/blog/assets/js/65.a3bb47b2.js"><link rel="prefetch" href="/blog/assets/js/66.1d538221.js"><link rel="prefetch" href="/blog/assets/js/67.f56adb23.js"><link rel="prefetch" href="/blog/assets/js/68.4f08d3d8.js"><link rel="prefetch" href="/blog/assets/js/69.82f282b0.js"><link rel="prefetch" href="/blog/assets/js/7.ae1b9be9.js"><link rel="prefetch" href="/blog/assets/js/70.5b928a65.js"><link rel="prefetch" href="/blog/assets/js/71.4bb0e32c.js"><link rel="prefetch" href="/blog/assets/js/72.2eb8d25e.js"><link rel="prefetch" href="/blog/assets/js/73.7dbb1401.js"><link rel="prefetch" href="/blog/assets/js/74.3fa1b7a4.js"><link rel="prefetch" href="/blog/assets/js/75.f4be7b25.js"><link rel="prefetch" href="/blog/assets/js/76.8cef3484.js"><link rel="prefetch" href="/blog/assets/js/77.f1ff9758.js"><link rel="prefetch" href="/blog/assets/js/78.074b901f.js"><link rel="prefetch" href="/blog/assets/js/79.d976b276.js"><link rel="prefetch" href="/blog/assets/js/8.60aa9c8a.js"><link rel="prefetch" href="/blog/assets/js/80.7068c887.js"><link rel="prefetch" href="/blog/assets/js/81.193562a8.js"><link rel="prefetch" href="/blog/assets/js/82.76cce187.js"><link rel="prefetch" href="/blog/assets/js/83.4e4ad03b.js"><link rel="prefetch" href="/blog/assets/js/84.82581e75.js"><link rel="prefetch" href="/blog/assets/js/85.a75bc12a.js"><link rel="prefetch" href="/blog/assets/js/86.16073ea8.js"><link rel="prefetch" href="/blog/assets/js/87.9a496e6c.js"><link rel="prefetch" href="/blog/assets/js/88.f9362819.js"><link rel="prefetch" href="/blog/assets/js/89.dfced0d8.js"><link rel="prefetch" href="/blog/assets/js/9.46c022d3.js"><link rel="prefetch" href="/blog/assets/js/90.74db1304.js"><link rel="prefetch" href="/blog/assets/js/91.d8a6805a.js"><link rel="prefetch" href="/blog/assets/js/92.8f6c6685.js"><link rel="prefetch" href="/blog/assets/js/93.d1976a80.js"><link rel="prefetch" href="/blog/assets/js/94.7837a315.js"><link rel="prefetch" href="/blog/assets/js/95.17395790.js"><link rel="prefetch" href="/blog/assets/js/96.39162f5b.js"><link rel="prefetch" href="/blog/assets/js/97.c959d11a.js"><link rel="prefetch" href="/blog/assets/js/98.efc02736.js"><link rel="prefetch" href="/blog/assets/js/99.bb8e3b0a.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.67d97e57.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="前端那些事儿" class="logo"> <span class="site-name can-hide">前端那些事儿</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/base/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/blog/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/blog/devops/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/blog/mobile/" class="nav-link">
  泛客户端
</a></div><div class="nav-item"><a href="/blog/architecture/" class="nav-link">
  架构&amp;方案
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jonny-wei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jonny-wei/sushi-js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 寿司
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/base/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/blog/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/blog/devops/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/blog/mobile/" class="nav-link">
  泛客户端
</a></div><div class="nav-item"><a href="/blog/architecture/" class="nav-link">
  架构&amp;方案
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jonny-wei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jonny-wei/sushi-js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 寿司
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vue/" aria-current="page" class="sidebar-link">Vue 组件通信</a></li><li><a href="/blog/vue/warmup/vue-symbols.html" class="sidebar-link">Vue 修饰符</a></li><li><a href="/blog/vue/warmup/vue-optimization.html" class="sidebar-link">Vue 相关优化</a></li><li><a href="/blog/vue/warmup/vue-router.html" class="sidebar-link">Vue 路由原理</a></li><li><a href="/blog/vue/warmup/vue-vuex.html" class="sidebar-link">Vuex 实现原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue源码解析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vue/vue/github.html" class="sidebar-link">源码学习</a></li><li><a href="/blog/vue/vue/vue-render.html" class="sidebar-link">渲染器</a></li><li><a href="/blog/vue/vue/vue-init.html" class="sidebar-link">构建与初始化</a></li><li><a href="/blog/vue/vue/vue-component.html" class="sidebar-link">组件化过程</a></li><li><a href="/blog/vue/vue/vue-observer.html" class="sidebar-link">响应式原理</a></li><li><a href="/blog/vue/vue/vue-template.html" class="sidebar-link">模板编译与渲染</a></li><li><a href="/blog/vue/vue/vue-diff.html" class="sidebar-link">虚拟 DOM 与 Diff 算法</a></li><li><a href="/blog/vue/vue/vue-nextTick.html" class="sidebar-link">异步更新队列</a></li><li><a href="/blog/vue/vue/vue-lifecycle.html" class="sidebar-link">生命周期</a></li><li><a href="/blog/vue/vue/vue-computed.html" class="sidebar-link">计算属性与侦听器</a></li><li><a href="/blog/vue/vue/vue-slot.html" class="sidebar-link">插槽</a></li><li><a href="/blog/vue/vue/vue-directive.html" class="sidebar-link">Vue 指令</a></li><li><a href="/blog/vue/vue/vue-event.html" class="sidebar-link">事件绑定原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>VueRouter源码解析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vue/vue-router/abstract.html" class="sidebar-link">摘要</a></li><li><a href="/blog/vue/vue-router/warmUp.html" class="sidebar-link">准备工作</a></li><li><a href="/blog/vue/vue-router/plugin.html" class="sidebar-link">插件机制</a></li><li><a href="/blog/vue/vue-router/initialization.html" class="sidebar-link">初始化与降级处理</a></li><li><a href="/blog/vue/vue-router/transitions.html" class="sidebar-link">路由过渡与视图渲染</a></li><li><a href="/blog/vue/vue-router/match.html" class="sidebar-link">路由匹配</a></li><li><a href="/blog/vue/vue-router/scroll.html" class="sidebar-link">滚动行为处理</a></li><li><a href="/blog/vue/vue-router/summary.html" class="sidebar-link">总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vuex源码解析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vue/vuex/abstract.html" class="sidebar-link">摘要</a></li><li><a href="/blog/vue/vuex/warmUp.html" class="sidebar-link">准备工作</a></li><li><a href="/blog/vue/vuex/initialization.html" class="sidebar-link">初始化与模块安装</a></li><li><a href="/blog/vue/vuex/state.html" class="sidebar-link">State 相关</a></li><li><a href="/blog/vue/vuex/getters.html" class="sidebar-link">Getters 相关</a></li><li><a href="/blog/vue/vuex/mutations.html" class="sidebar-link">Mutations 相关</a></li><li><a href="/blog/vue/vuex/actions.html" class="sidebar-link">Actions 相关</a></li><li><a href="/blog/vue/vuex/modules.html" class="sidebar-link">Modules 相关</a></li><li><a href="/blog/vue/vuex/others.html" class="sidebar-link">其他</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue3新特性</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vue/vue3.x/abstract.html" class="sidebar-link">摘要</a></li><li><a href="/blog/vue/vue3.x/reactivity.html" class="sidebar-link">全新的响应式系统</a></li><li><a href="/blog/vue/vue3.x/features.html" aria-current="page" class="active sidebar-link">功能方面</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#composition-api" class="sidebar-link">Composition API</a></li><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#代码复用新方式" class="sidebar-link">代码复用新方式</a></li><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#全局挂载-配置api更改" class="sidebar-link">全局挂载/配置API更改</a></li><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#fragments" class="sidebar-link">Fragments</a></li><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#suspense" class="sidebar-link">Suspense</a></li><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#多个-v-model" class="sidebar-link">多个 v-model</a></li><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#teleport" class="sidebar-link">Teleport</a></li><li class="sidebar-sub-header"><a href="/blog/vue/vue3.x/features.html#新的自定义指令-api" class="sidebar-link">新的自定义指令 API</a></li></ul></li><li><a href="/blog/vue/vue3.x/performance.html" class="sidebar-link">性能方面</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue3源码解析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vue/vue3/warmup.html" class="sidebar-link">Vue3 理念</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="功能方面"><a href="#功能方面" class="header-anchor">#</a> 功能方面</h1> <h2 id="composition-api"><a href="#composition-api" class="header-anchor">#</a> Composition API</h2> <p>Composition API 是 Vue 的新大版本中讨论最多的特色语法。这是一种全新的逻辑复用和代码组织方法。</p> <p>目前我们用 Options API 构建组件。为了将逻辑添加到 Vue 组件中，我们要填充诸如 data、methods、computed 之类的 option 属性。这种方法的最大缺点是它本身并非有效的 JavaScript 代码。你需要准确了解模板中可以访问哪些属性，以及 this 关键字的行为。在后台，Vue 编译器需要将属性转换为可用的代码。因此我们无法享受自动提示或类型检查功能的帮助。</p> <p>Composition API 会将组件属性中当前可用的机制暴露为 JavaScript 函数，从而解决这个问题。Vue 核心团队将 Composition API 定义为“一组基于函数的附加 API，可以灵活地组合组件逻辑”。Composition API 解决了 Vue2 开发过程中反复横跳的问题。因此提高了代码的可读性和可维护性。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    Count is: {{ count }}, double is {{ double }}, click to increment.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>

    <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span>

    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'component mounted!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">,</span>
      double<span class="token punctuation">,</span>
      increment
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>现在我们将这段代码分解为几部分，看看到底发生了什么事情：</p> <p>Composition API 将组件属性暴露为函数，因此第一步是导入所需的函数。在我们的示例中，我们需要用 ref 创建响应性引用、用 computed 创建计算属性， 并用 onMounted 访问挂载的生命周期 hook。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>setup()是一个将属性和函数返回到模板的函数，仅此而已。我们在这里声明所有响应属性、计算属性、观察者和生命周期 hooks，
然后返回它们，以便在模板中使用。没有从setup函数返回的内容将无法在模板中使用。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们使用 ref 函数声明了称为 count 的响应属性。它可以包装任何原语或对象，并返回其响应性引用。传递的元素的值将保留在所创建引用的 value 属性中。例如，如果要访问 count 引用的值，则需要显式请求 count.value。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>声明计算属性 double 和 increment 函数</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>
<span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">.</span>value<span class="token operator">++</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用 onMounted hook 在组件挂载时记录了一些消息</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'component mounted!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>最后，我们使用 increment 方法返回 count 和 double 属性，以使其在模板中可用。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">return</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">,</span>
  double<span class="token punctuation">,</span>
  increment
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="代码复用新方式"><a href="#代码复用新方式" class="header-anchor">#</a> 代码复用新方式</h2> <p>目前，如果我们要在其他组件之间共享一些代码，则有两个选择可用——分别是 mixins 和作用域插槽。两者都有自己的缺点。mixins 的最大缺点是我们对它实际上添加到组件中的内容一无所知。这不仅让代码很难理解，而且还可能导致命名与已有的属性和函数发生冲突。使用作用域插槽时，我们确切地知道可以通过 v-slot 属性访问哪些属性，因此代码更容易理解。这种方法的缺点是我们只能在模板中访问它，并且只能在组件作用域中使用。</p> <p>使用Composition API，我们不受模板和组件作用域的限制，并且确切地知道可以访问哪些属性。使用 hook 的形式，将相同逻辑的代码封装起来，需要用的时候直接调用函数。</p> <p>使用第三方库也能变得更优雅。例如，如果我们要使用 Vuex，则可以显式使用 useStore 函数，而不用污染 Vue 原型（this.$store），这种方法也消除了 Vue 插件的幕后魔法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> commit<span class="token punctuation">,</span> dispatch <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>文档：<a href="https://vue-composition-api-rfc.netlify.com/" target="_blank" rel="noopener noreferrer">https://vue-composition-api-rfc.netlify.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>存储库：<a href="https://github.com/LinusBorg/composition-api-demos" target="_blank" rel="noopener noreferrer">https://github.com/LinusBorg/composition-api-demos<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="全局挂载-配置api更改"><a href="#全局挂载-配置api更改" class="header-anchor">#</a> 全局挂载/配置API更改</h2> <p>目前我们使用全局Vue对象来提供配置并创建新的 Vue 实例。对Vue对象所做的任何更改都会影响每个 Vue 实例和组件。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ignoredElements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^app-</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>在实例化和配置应用程序的方式方面，还有一项重大变化。看看vue3如何做的：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ignoredElements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^app-</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>每个配置都局限于使用createApp定义的某个 Vue 应用程序。它可以让你的代码更容易理解，并且不容易出现由第三方插件引起的意外问题。
当前，如果某些第三方解决方案正在修改 Vue 对象，则可能会以意想不到的方式（尤其是全局 mixins）影响你的应用程序，
而 Vue 3 则不会出现这种情况。</p> <h2 id="fragments"><a href="#fragments" class="header-anchor">#</a> Fragments</h2> <p>Vue 3 中值得期待的另一个激动人心的新功能是片段（Fragments）。如果你创建一个 Vue 组件，则它只能有一个根节点。
这意味着无法创建这样的组件：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>原因是代表任何 Vue 组件的 Vue 实例都需要绑定到单个 DOM 元素中。想要创建具有多个 DOM 节点的组件，唯一的方法是创建一个没有基础 Vue 实例的功能组件。</p> <p>事实证明，React 社区也有同样的问题。他们提出的解决方案是一个名为片段（Fragment）的虚拟元素。它看起来差不多是这个样子：</p> <div class="language-jsx harmony line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Columns</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">React.Fragment</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">React.Fragment</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>尽管片段看起来像是普通的 DOM 元素，但它是虚拟的，根本不会在 DOM 树中渲染。这样我们可以将组件功能绑定到单个元素中，而无需创建多余的 DOM 节点。</p> <p>目前，你可以在 Vue 2 中使用 vue-fragments 库来应用片段，而在 Vue 3 中它是开箱即用的！</p> <h2 id="suspense"><a href="#suspense" class="header-anchor">#</a> Suspense</h2> <p>React 生态系统中还有一个好主意也将在 Vue 3 中采用，就是 Suspense 组件。</p> <p>Suspense 会暂停你的组件渲染，并渲染回退组件，直到满足一个条件为止。到头来 Suspense 只是一个具有插槽的组件：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspense</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspended-component</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#fallback</span><span class="token punctuation">&gt;</span></span>
    Loading...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Suspense</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在 Suspended 完全渲染之前将显示回退组件。Suspense 可以等待组件下载完毕（如果该组件是异步的），或者在 setup 函数中执行一些异步操作。</p> <h2 id="多个-v-model"><a href="#多个-v-model" class="header-anchor">#</a> 多个 v-model</h2> <p>v-model 是一种指令，可用于在给定组件上实现双向绑定。我们可以传递响应性属性，并从组件内部对其进行修改。</p> <p>Vue3 中将 v-model 和 .sync 进行了功能的整合，抛弃了.sync，表示：多个双向绑定 value 值直接用多个 v-model 传就好了；同时也将 v-model 默认传的 prop 名称由 value 改成了 modelValue</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>InviteeForm</span>
  <span class="token attr-name"><span class="token namespace">v-model:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inviteeName<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">v-model:</span>email</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inviteeEmail<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="teleport"><a href="#teleport" class="header-anchor">#</a> Teleport</h2> <p>Teleport 是特殊的组件，用来在当前组件之外渲染某些内容。这也是 React 原生实现的功能之一。React 文档关于 Teleport 是这样介绍的：</p> <blockquote><p>Teleport 提供了一种一流的方式来将子级渲染到父组件的 DOM 层级之外的 DOM 节点中。”</p></blockquote> <p>这是一种处理模态、弹出窗口以及页面顶部组件的非常好用的方法。通过 Teleport，你可以确保没有任何主机组件 CSS 规则会影响你要显示的组件，也无需使用z-index搞些小动作了。</p> <p>对于每个 Teleport，我们需要指定其目标位置，在其中渲染 Teleport 内容。下面是 Teleport-vue 库的实现，它为 Vue 2 添加了这一功能：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showDialog = true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>打开模态框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showDialog<span class="token punctuation">&quot;</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">position</span><span class="token punctuation">:</span> fixed</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
      我是一个模态框
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showDialog = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关闭<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      showDialog<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      msg<span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>Vue 3 将提供对 Teleport 的开箱即用支持！</p> <h2 id="新的自定义指令-api"><a href="#新的自定义指令-api" class="header-anchor">#</a> 新的自定义指令 API</h2> <p>自定义指令 API 在 Vue 3 中将略有变化，以更好地与组件生命周期保持一致。这项更改会让 API 更加直观，从而帮助新手更容易地理解和学习 API。</p> <p>这是当前的自定义指令 API：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> MyDirective <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">componentUpdated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">unbind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>下面是 Vue 3 中的样子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> MyDirective <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// new</span>
  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>虽然这是一项重大更改，使用 Vue 兼容构建也应该能轻松覆盖。</p> <p>上面的内容只介绍了主要的 API 更改和改进。如果你对其他内容感到好奇，请务必查看 Vue RFCs 存储库。
Vue RFCs 存储库：<a href="https://github.com/vuejs/rfcs/" target="_blank" rel="noopener noreferrer">https://github.com/vuejs/rfcs/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/vue/vue3.x/reactivity.html" class="prev">
        全新的响应式系统
      </a></span> <span class="next"><a href="/blog/vue/vue3.x/performance.html">
        性能方面
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----><!----></div></div>
    <script src="/blog/assets/js/app.3c4ecd7c.js" defer></script><script src="/blog/assets/js/2.8bf77cff.js" defer></script><script src="/blog/assets/js/157.f9a9095c.js" defer></script><script src="/blog/assets/js/4.ff6074e9.js" defer></script>
  </body>
</html>
